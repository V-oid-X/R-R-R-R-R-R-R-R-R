--[[
    STRAW HUB
    Rayfield Logic Port
    Credits: justsscripts
]]

-- UI LIB
local VLib = loadstring(game:HttpGet(
    "https://raw.githubusercontent.com/vep1032/VepStuff/main/Rgb%20Ui"
))()

-- SERVICES
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local VirtualUser = game:GetService("VirtualUser")
local UserInputService = game:GetService("UserInputService")

local LP = Players.LocalPlayer

-- WINDOW
local win = VLib:Window("STRAW HUB", Color3.fromRGB(196,40,28))
local Main = win:Tab("FARMING")
local Util = win:Tab("UTILITIES")
local Credits = win:Tab("CREDITS")

-- ================= FLAGS =================
local PushupFarm = false
local SitupFarm = false
local BenchFarm = false
local DumbbellFarm = false
local StrengthFarm = false
local InfiniteJump = false

-- ================= ANTI AFK =================
LP.Idled:Connect(function()
    VirtualUser:CaptureController()
    VirtualUser:ClickButton2(Vector2.new())
end)

-- ================= AUTOFARMS (RAYFIELD LOGIC) =================

-- PUSHUPS
task.spawn(function()
    while task.wait(0.1) do
        if PushupFarm then
            ReplicatedStorage.Remotes.Equipment:FireServer(
                "Workout",
                {State="Manual", Name="PushUp", Action="OneBillion"}
            )
        end
    end
end)

-- SITUPS
task.spawn(function()
    while task.wait(0.1) do
        if SitupFarm then
            ReplicatedStorage.Remotes.Equipment:FireServer(
                "Workout",
                {State="Manual", Name="SitUp", Action="OneBillion"}
            )
        end
    end
end)

-- BENCHPRESS
task.spawn(function()
    while task.wait() do
        if BenchFarm then
            ReplicatedStorage.Remotes.Equipment:FireServer(
                "Workout",
                {
                    State = "Manual",
                    Name = "Benchpress",
                    Action = "OneThousand"
                }
            )
        end
    end
end)

-- DUMBBELLS
task.spawn(function()
    while task.wait(0.1) do
        if DumbbellFarm then
            ReplicatedStorage.Remotes.Equipment:FireServer(
                "Workout",
                {State="Manual", Name="Dumbbell", Action="OneBillion"}
            )
        end
    end
end)

-- ================= STRENGTH (PUNCHING BAG) =================
task.spawn(function()
    local DamageRemote = ReplicatedStorage:WaitForChild("DamageRemote")

    while task.wait() do
        if StrengthFarm then
            pcall(function()
                local char = LP.Character
                local hrp = char and char:FindFirstChild("HumanoidRootPart")
                if not hrp then return end

                for _,obj in pairs(workspace:GetDescendants()) do
                    if obj:IsA("Model") and obj.Name == "PunchingBag" then
                        local bag = obj:FindFirstChild("Bag", true)
                        local hum = obj:FindFirstChildOfClass("Humanoid")

                        if bag and hum then
                            if (hrp.Position - bag.Position).Magnitude <= 8 then
                                DamageRemote:FireServer(hum, 9e18, false)
                            end
                        end
                    end
                end
            end)
        end
    end
end)

-- ================= UI =================

Main:Toggle("Autofarm Pushups", function(v)
    PushupFarm = v
end)

Main:Toggle("Autofarm Situps", function(v)
    SitupFarm = v
end)

Main:Toggle("Autofarm Benchpress", function(v)
    BenchFarm = v
end)

Main:Toggle("Autofarm Dumbbells", function(v)
    DumbbellFarm = v
end)

Main:Toggle("Autofarm Strength (Bags)", function(v)
    StrengthFarm = v
end)

-- ================= UTILITIES =================

Util:Toggle("Infinite Jump", function(v)
    InfiniteJump = v
end)

UserInputService.JumpRequest:Connect(function()
    if InfiniteJump then
        local hum = LP.Character and LP.Character:FindFirstChildOfClass("Humanoid")
        if hum then
            hum:ChangeState(Enum.HumanoidStateType.Jumping)
        end
    end
end)

-- ================= CREDITS =================

Credits:Label("STRAW HUB")
Credits:Label("Scripts by justsscripts")

Credits:Button("Copy Discord", function()
    setclipboard("https://discord.gg/73jRJuYrnc")
end)
